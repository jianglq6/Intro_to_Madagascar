<!doctype html>

<html lang="en" style="height: 100%;">
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=1024" />
        <meta name="apple-mobile-web-app-capable" content="yes" />
        <title>Introduction to Madagascar | by Luqian Jiang</title>
        <meta name="author" content="Luqian Jiang" />
        <link rel="stylesheet" href="css/font.css"/>
        <link rel="stylesheet" href="css/mada-default.css"/>
        <link rel="stylesheet" href="highlight/styles/sunbrust.css"/>
    </head>


    <body class="impress-not-supported">

        <!--
            For example this fallback message is only visible when there is `impress-not-supported` class on body.
        -->

        <div class="fallback-message">
            <p>Your browser <b>doesn't support the features required</b> by impress.js, so you are presented with a simplified version of this presentation.</p>
            <p>For the best experience please use the latest <b>Chrome</b>, <b>Safari</b> or <b>Firefox</b> browser.</p>
        </div>

        <!-- create the slide -->
        <div id="impress">

        	<!-- firt slide -->
            <div id="cover" class="step" data-x="0" data-y="-35">
        	   <h1>Madagascar 简介</h1>
                <p class="footer">
                    <span>Luqian Jiang</span> ·
                    <span> March 2016 </span>
                </p>
            </div>

        	<!-- second slide -->
            <div id="outline" class="step" data-x="-35" data-y="150">
                <p class="substep">Madagascar 简介</p>
        		<p class="substep">基本操作及常用命令</p>
        		<p class="substep">流程编写</p>
        		<p class="substep">实例分析</p>
            </div>

        	<!-- outline: introduction -->
            <div id="outline" class="step" data-x="-35" data-y="150">
                <p class="substep">Madagascar 简介</p>
        		<p class="substep_bot">基本操作及常用命令</p>
        		<p class="substep_bot">流程编写</p>
        		<p class="substep_bot">实例分析</p>
            </div>

        	<!-- third slide -->
        	<div id="introduction" class="step" data-x="0" data-y="350" data-z="90" data-rotate-x="90" data-rotate-y="0">
        		<h2><a href="http://www.reproducibility.org/wiki/Main_Page" target="_blank">Madagascar</a> 是什么？</h2>
        		<p class="what"> Madagascar 是 Sergey Fomel 教授主持开发的，主要用来处理勘探地球物理数据资料或进行模型测试的开源软件包。它遵从 Claerbout（1992）提出的可再生性研究的思想原理（可再生性研究需要计算实验的研究结果与软件的代码一起公开发表，如果可能还会加上输入数据，这样，文章的读者就可以重复进行实验的内容并验证实验效果）。</p>
         		<p class="what">Madagascar 提供了 C、C++、Fortran 等多个常用编程语言的接口，其中 Python 语言便是 Madagascar 开发者提供给我们的标准的软件包扩充手段。Madagascar 程序可以用在 Python 脚本中来完成我们所需的任务。</p>
        		<p class="what">Madagascar 并不只限于地震资料处理应用。它可以应用在通用的信号处理和一些数学分析中。正如上面提到的，在科教领域有很大的应用前景，还包括很多非地震波动资料、图像资料处理等。</p>
        	</div>

        	<!-- fig -->
        	<div id="fig1" class="step" data-x="-380" data-y="500" data-z="0">
        		<p style="text-align:center"><img src="fig/rose.png" width="312"/></p>
        	</div>
        	<div id="fig2" class="step" data-x="-28" data-y="500" data-z="0">
        		<p style="text-align:center"><img src="fig/velocity_model.png" width="400"/></a>
        	</div>
        	<div id="fig3" class="step" data-x="370" data-y="500" data-z="0">
        		<p style="text-align:center"><img src="fig/3dfd.gif" width="405"/></a>
        	</div>

        	<!-- outline: command -->
            <div id="outline" class="step" data-x="-35" data-y="150">
                <p class="substep_bot">Madagascar 简介</p>
        		<p class="substep">基本操作及常用命令</p>
        		<p class="substep_bot">流程编写</p>
        		<p class="substep_bot">实例分析</p>
            </div>

            <!-- 4th slide -->
            <div id="command-1" class="step" data-x="-840" data-y="-380">
                <h2> <a href="http://www.ahay.org/RSF/" target="_blank">常用命令</a> </h2>
                <ul>
                    <li>sfdoc</li>
                    <p class="description">用途：查找相关命令</p>
                    <p class="description">使用方法： sfdoc -k name </p>
                    <pre>
                        <code class="bash"><span class="keyword"><b>bash</b></span>$ sfdoc -k migration
<b>sfwave</b>: Rice HPCSS seismic modeling and migration.
<b>sfrtm</b>: Rice HPCSS seismic modeling and migration.
<b>sfagmig</b>: Angle-gather constant-velocity time migration.
<b>sfkkirmig0</b>: 2-D Post-stack Kirchhoff depth migration.
<b>sfpcrdata2</b>: Prepare data for 2-D angle-domain migration.
<b>sfmig2</b>: 2-D Prestack Kirchhoff time migration with antialiasing.
<b>sfmig3</b>: 3-D Kirchhoff time migration with antialiasing.
......                  </code>
                    </pre>
                </ul>
            </div>

            <!-- 6th silide -->
            <div id="command-2" class="step" data-x="-1850" data-y="200">
                <li>已知某指令，查看其详细信息</li>
                <p class="description">举例：sfmig2</p>
                <p class="img"><img src="fig/sfmig2.png" width="100%"></p>
            </div>

            <!-- 5th slide -->
            <div id="command-3" class="step" data-x="-1850" data-y="-590" data-rotate-z="0" data-rotate-y="0">
                <h2 style="margin-bottom: 0.2em"> <a href="http://www.ahay.org/RSF/" target="_blank">常用命令</a> </h2>
                <ul>
                    <li>sfspike</li>
                    <p class="description">用途： Generate simple data: spikes, boxes, planes, constants.</p>
                    <li>sfin</li>
                    <p class="description">用途： Display basic information about RSF files.</p>
                    <li>sfdisfil</li>
                    <p class="description">用途： Print out data values.</p>
                </ul>
                <p class="img"> <img src="fig/test1-.png" width="100%"> </p>
            </div>

            <!-- outline: command -->
            <div id="outline" class="step" data-x="-35" data-y="150">
                <p class="substep_bot">Madagascar 简介</p>
                <p class="substep_bot">基本操作及常用命令</p>
                <p class="substep">流程编写</p>
                <p class="substep_bot">实例分析</p>
            </div>

            <!-- 7th slide -->
            <div id="scons" class="step" data-x="-1850" data-y="970" data-rotate-z="0" data-rotate-y="0">
                <h2><a href="http://www.scons.org/" target="_blank">SCons</a></h2>
                <p class="description" style="margin-bottom: 0.5em">SCons（来自Software Construction）是以 Python 语言编写的、类似于 GNU make 的自动化构建工具。 Madagascar 流程的实现就是基于 SCons。</p>
                <p class="description" style="margin-bottom: 0.5em">Sconstruct 文件书写的基本格式：</p>
                <pre><code>Fetch(data_file,dir[,ftp_server_info])</code></pre>
                <p class="undercode">Download &lt;data_file&gt; from a specific directory &lt;dir&gt; of an FTP server.</p>
                <pre><code>Flow(target[s],source[s],command[s][,stdin][,stdout])</code></pre>
                <p class="undercode">Generate &lt;target[s]&gt; from &lt;source[s]&gt; using &lt;command[s]&gt;.</p>
                <pre><code>Plot(intermediate_plot[,source],plot_command)</code></pre>
                <p class="undercode">Generate &lt;intermediate_plot&gt; in the working directory.</p>
                <pre><code>Result(plot[,source],plot_command)</code></pre>
                <p class="undercode">Gnerate a final &lt;plot&gt; in the special Fig folder of the working directiory.</p>
                <p class="undercode">Madagascar 流程脚本以 from rsf.proj import * 开头，End() 结尾 。</p>
            </div>

            <!-- 8th slide (1)-->
            <div id="example1" class="step" data-x="1850" data-y="950">
                <p class="codetitle">SConstruct</p>
                <pre style="font-size: 0.48em"><code>from rsf.proj import *

<span class="comment"># Download the input data file </span>
Fetch('lena.img','imgs')

<span class="comment"># Create RSF header </span>
Flow('lena.hdr','lena.img',
     'echo n1=512 n2=513 in=$SOURCE data_format=native_uchar',
     stdin=0)

<span class="comment"># Convert to floating point and window out first trace</span>
Flow('lena','lena.hdr','dd type=float | window f2=1')

Result('lena',
       '''
       sfgrey title="Hello, World!" transp=n color=b bias=128
       clip=100 screenratio=1
       ''')

End()</code></pre>
            </div>

            <!-- 8th slide (2)-->
            <div id="example1" class="step" data-x="1850" data-y="950">
                <p class="codetitle">SConstruct</p>
                <pre style="font-size: 0.48em"><code><span class="keyword">from rsf.proj import *</span>

<span class="comment"># Download the input data file </span>
Fetch('lena.img','imgs')

<span class="comment"># Create RSF header </span>
Flow('lena.hdr','lena.img',
     'echo n1=512 n2=513 in=$SOURCE data_format=native_uchar',
     stdin=0)

<span class="comment"># Convert to floating point and window out first trace</span>
Flow('lena','lena.hdr','dd type=float | window f2=1')

Result('lena',
       '''
       sfgrey title="Hello, World!" transp=n color=b bias=128
       clip=100 screenratio=1
       ''')

<span class="keyword">End()</span></code></pre>
            </div>

            <!-- 8th slide (3)-->
            <div id="example1" class="step" data-x="1850" data-y="950">
                <p class="codetitle">SConstruct</p>
                <pre style="font-size: 0.48em"><code>from rsf.proj import *

<span class="comment"># Download the input data file </span>
<span class="function"><span class="keyword">Fetch('lena.img','imgs') </span></span>

<span class="comment"># Create RSF header </span>
Flow('lena.hdr','lena.img',
     'echo n1=512 n2=513 in=$SOURCE data_format=native_uchar',
     stdin=0)

<span class="comment"># Convert to floating point and window out first trace</span>
Flow('lena','lena.hdr','dd type=float | window f2=1')

Result('lena',
       '''
       sfgrey title="Hello, World!" transp=n color=b bias=128
       clip=100 screenratio=1
       ''')

End()</code></pre>
            </div>

            <!-- 8th slide (4)-->
            <div id="example1" class="step" data-x="1850" data-y="950">
                <p class="codetitle">SConstruct</p>
                <pre style="font-size: 0.48em"><code>from rsf.proj import *

<span class="comment"># Download the input data file </span>
Fetch('lena.img','imgs')

<span class="comment"># Create RSF header </span>
<span class="function"><span class="params">Flow('lena.hdr','lena.img',
     'echo n1=512 n2=513 in=$SOURCE data_format=native_uchar',
     stdin=0)</span></span>

<span class="comment"># Convert to floating point and window out first trace</span>
Flow('lena','lena.hdr','dd type=float | window f2=1')

Result('lena',
       '''
       sfgrey title="Hello, World!" transp=n color=b bias=128
       clip=100 screenratio=1
       ''')

End()</code></pre>
            </div>


            <!-- 8th slide (5)-->
            <div id="example1" class="step" data-x="1850" data-y="950">
                <p class="codetitle">SConstruct</p>
                <pre style="font-size: 0.48em"><code>from rsf.proj import *

<span class="comment"># Download the input data file </span>
Fetch('lena.img','imgs')

<span class="comment"># Create RSF header </span>
Flow('lena.hdr','lena.img',
     'echo n1=512 n2=513 in=$SOURCE data_format=native_uchar',
     stdin=0)

<span class="comment"># Convert to floating point and window out first trace</span>
<span class="function"><span class="params">Flow('lena','lena.hdr','dd type=float | window f2=1')</span></span>

Result('lena',
       '''
       sfgrey title="Hello, World!" transp=n color=b bias=128
       clip=100 screenratio=1
       ''')

End()</code></pre>
</div>

            <!-- 8th slide (6)-->
            <div id="example1" class="step" data-x="1850" data-y="950">
                <p class="codetitle">SConstruct</p>
                <pre style="font-size: 0.48em"><code>from rsf.proj import *

<span class="comment"># Download the input data file </span>
Fetch('lena.img','imgs')

<span class="comment"># Create RSF header </span>
Flow('lena.hdr','lena.img',
     'echo n1=512 n2=513 in=$SOURCE data_format=native_uchar',
     stdin=0)

<span class="comment"># Convert to floating point and window out first trace</span>
Flow('lena','lena.hdr','dd type=float | window f2=1')

<span style="color: #F87A7A">Result('lena',
       '''
       sfgrey title="Hello, World!" transp=n color=b bias=128
       clip=100 screenratio=1
       ''')</span>

<span style="color:#EC2A2A">End()</span></code></pre>
            </div>

            <!-- 9th slide -->
            <div id="example1-pic" class="step" data-x="2280" data-y="1280" data-scale="0.3">
                <p style="text-align: center;opacity: 0.9"><img src="fig/lena.png" width="500"></p>
            </div>

            <!-- outline: command -->
            <div id="outline" class="step" data-x="-35" data-y="150">
                <p class="substep_bot">Madagascar 简介</p>
                <p class="substep_bot">基本操作及常用命令</p>
                <p class="substep_bot">流程编写</p>
                <p class="substep">实例分析</p>
            </div>

        <!-- 10th slide: example -->
        <div id="example2-1" class="step" data-x="1850" data-y="-730">
            <ul><li>sfawefd2d</li></ul>
            <p class="codetitle">SConstruct</p>
            <p class="img"><img src="fig/exa2-1.png" width="100%"></p>
        </div>
        <div id="example2-2" class="step" data-x="1850" data-y="-230">
            <p class="img"><img src="fig/exa2-2.png" width="100%"></p>
        </div>
        <div id="example2-3" class="step" data-x="1850" data-y="299">
            <p class="img"><img src="fig/exa2-3.png" width="100%"></p>
            <p class="from">Modefied from <span class="ita"><a href="http://www.ahay.org/RSF/book/rsf/rsf/sfawefd.html">rsf/sfawefd</a></span></p>
        </div>

        <!-- 11th slide: example pic -->
        <div id="example2-pic" class="step" data-x="850" data-y="-235">
            <p><img src="fig/model.jpg" width="325"><img src="fig/snapshot.gif" width="325"><img src="fig/waveform.jpeg" width="325"></p>
        </div>
            <!--reference-->
            <div id="reference" class="step" data-x="800" data-y="-550" data-rotate-y="180">
                <h2>References</h2>
                <ul>
                    <li class="ref"><a href="http://ahay.org/RSF/book/rsf/book.pdf" target="_blank"> MADAGASCAR DOCUMENTATION </a></li>
                    <li class="ref"><a href="http://ahay.org/RSF/book/rsf/rsf/prog.pdf" target="_blank">Guide to Madagascar Programs </a></li>
                    <li class="ref"><a href="http://ahay.org/RSF/book/rsf/manual/manual.pdf" target="_blank">Madagascar Programming Reference Manual </a></li>
                </ul>
            </div>

            <!--last slide: overview-->
            <div id="overview" class="step" data-x="0" data-y="120" data-z="-350" data-scale="4">
            </div>

        </div>
        <div id="timer"></div>

        <script type="text/javascript" src="js/impress.js"></script>
        <script>impress().init();</script>

    </body>
</html>

